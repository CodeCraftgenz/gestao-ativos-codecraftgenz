# =============================================================================
# GESTAO DE ATIVOS SERVER - CONFIGURACOES
# =============================================================================
# Copie este arquivo para .env e configure os valores

# Ambiente
NODE_ENV=development
PORT=3000

# =============================================================================
# DATABASE (MySQL)
# =============================================================================
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=sua_senha_aqui
DB_NAME=gestao_ativos

# Pool de conexoes
DB_POOL_MIN=2
DB_POOL_MAX=10

# =============================================================================
# JWT (JSON Web Tokens)
# =============================================================================
# Gere chaves seguras com: openssl rand -base64 64
JWT_SECRET=sua_chave_secreta_muito_longa_aqui_minimo_32_caracteres
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=outra_chave_secreta_diferente_para_refresh_token
JWT_REFRESH_EXPIRES_IN=7d

# Token do agente (mais longo)
AGENT_TOKEN_EXPIRES_IN=30d
AGENT_REFRESH_TOKEN_EXPIRES_IN=90d

# =============================================================================
# SEGURANCA
# =============================================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Rate limiting para agentes (mais permissivo)
AGENT_RATE_LIMIT_WINDOW_MS=60000
AGENT_RATE_LIMIT_MAX_REQUESTS=60

# CORS
CORS_ORIGIN=http://localhost:5173

# =============================================================================
# AGENTE
# =============================================================================
# Intervalo de heartbeat em segundos
HEARTBEAT_INTERVAL=60

# Tempo para considerar offline (segundos)
HEARTBEAT_TIMEOUT=180

# Intervalo de inventario em horas
INVENTORY_INTERVAL=24

# Auto-aprovar dispositivos
AUTO_APPROVE_DEVICES=false

# Versao minima do agente
AGENT_MIN_VERSION=1.0.0

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# Arquivo de log (opcional)
LOG_FILE=logs/server.log

# =============================================================================
# JOBS
# =============================================================================
# Cron para atualizar status dos dispositivos (a cada minuto)
JOB_DEVICE_STATUS_CRON=*/1 * * * *

# Cron para expirar comandos antigos (a cada hora)
JOB_COMMAND_EXPIRY_CRON=0 * * * *

# Cron para limpeza de dados antigos (diariamente as 3h)
JOB_CLEANUP_CRON=0 3 * * *
